# **Step-by-Step Guide to Creating a VPC and Subnets in AWS**

This guide walks you through creating a **Virtual Private Cloud (VPC)** and **subnets** in AWS using the AWS Management Console.

---

## **Step 1: Sign in to AWS Management Console**
1. Go to [AWS Console](https://aws.amazon.com/console/).
2. Log in with your AWS account credentials.

---

## **Step 2: Navigate to the VPC Dashboard**
1. In the **AWS Services** search bar, type **"VPC"**.
2. Click on **VPC** under **Services** to open the **VPC Dashboard**.

---

## **Step 3: Create a VPC**
1. Click **"Your VPCs"** in the left sidebar.
2. Click **"Create VPC"**.
3. Configure the VPC settings:
   - **Resources to create**: Select **"VPC only"** (we’ll manually add subnets later).
   - **Name tag**: Enter a name (e.g., `My-VPC`).
   - **IPv4 CIDR block**: Specify an IP range (e.g., `10.0.0.0/16`).
   - **IPv6 CIDR block**: Choose **"No IPv6 CIDR Block"** (unless needed).
   - **Tenancy**: Select **"Default"** (shared hardware).
4. Click **"Create VPC"**.

✅ **VPC is now created!**

---

## **Step 4: Create Subnets**
### **Subnet 1 (Public Subnet)**
1. In the left sidebar, click **"Subnets"**.
2. Click **"Create subnet"**.
3. Configure:
   - **VPC ID**: Select your newly created VPC (e.g., `My-VPC`).
   - **Subnet name**: `Public-Subnet-1`.
   - **Availability Zone (AZ)**: Select an AZ (e.g., `us-east-1a`).
   - **IPv4 CIDR block**: Assign a subnet range (e.g., `10.0.1.0/24`).
4. Click **"Create subnet"**.

### **Subnet 2 (Private Subnet)**
1. Click **"Create subnet"** again.
2. Configure:
   - **VPC ID**: Same VPC (`My-VPC`).
   - **Subnet name**: `Private-Subnet-1`.
   - **Availability Zone (AZ)**: Choose a different AZ (e.g., `us-east-1b`).
   - **IPv4 CIDR block**: Another subnet range (e.g., `10.0.2.0/24`).
3. Click **"Create subnet"**.

✅ **Two subnets (1 public, 1 private) are now created!**

---

## **Step 5: Enable Public Access for Public Subnet**
To allow internet access for the **public subnet**:
1. Go to **"Subnets"** and select the **Public-Subnet-1**.
2. Click the **"Route Table"** tab below.
3. Click **"Edit route table association"** and note the **Route Table ID**.
4. Go to **"Route Tables"** in the left sidebar.
5. Select the route table associated with the public subnet.
6. Click **"Edit routes"** > **"Add route"**:
   - **Destination**: `0.0.0.0/0` (all traffic).
   - **Target**: Select **"Internet Gateway"** (if none exists, create one in **Step 6**).
7. Click **"Save changes"**.

---

## **Step 6: Create & Attach an Internet Gateway (IGW)**
1. In the left sidebar, click **"Internet Gateways"**.
2. Click **"Create internet gateway"**.
   - **Name tag**: `My-IGW`.
3. Click **"Create internet gateway"**.
4. Select the IGW and click **"Attach to VPC"**.
5. Choose your VPC (`My-VPC`) and click **"Attach"**.

✅ **Public subnet now has internet access!**

---

## **Step 7: Configure a NAT Gateway (Optional for Private Subnet)**
If your private subnet needs internet access (e.g., for updates):
1. Go to **"NAT Gateways"** in the left sidebar.
2. Click **"Create NAT Gateway"**.
   - **Subnet**: Select the **Public-Subnet-1**.
   - **Connectivity type**: **Public**.
   - **Elastic IP allocation ID**: Allocate a new Elastic IP.
3. Click **"Create NAT Gateway"**.
4. Go to **"Route Tables"**, select the **private subnet’s route table**.
5. Click **"Edit routes"** > **"Add route"**:
   - **Destination**: `0.0.0.0/0`.
   - **Target**: Select the **NAT Gateway**.
6. Click **"Save changes"**.

✅ **Private subnet can now access the internet via NAT Gateway!**

---

## **Step 8: Verify the Setup**
1. **Public Subnet** → Should have a route to `0.0.0.0/0` via **IGW**.
2. **Private Subnet** → If using NAT, should route `0.0.0.0/0` via **NAT Gateway**.
3. Test by launching an **EC2 instance** in each subnet.

---

### **Summary of Resources Created**
| **Resource**       | **Example Name**       | **CIDR Block**    | **Purpose**                |
|--------------------|------------------------|-------------------|----------------------------|
| VPC               | `My-VPC`              | `10.0.0.0/16`    | Main network container     |
| Public Subnet     | `Public-Subnet-1`     | `10.0.1.0/24`    | Hosts public-facing services |
| Private Subnet    | `Private-Subnet-1`    | `10.0.2.0/24`    | Hosts internal services    |
| Internet Gateway  | `My-IGW`              | -                | Allows internet access     |
| NAT Gateway (opt.)| `My-NAT-Gateway`      | -                | Private subnet internet access |

---

### **Next Steps**
- Launch **EC2 instances** in subnets.
- Configure **Security Groups** and **NACLs** for security.
- Set up **VPC Peering** if connecting multiple VPCs.
